<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Quiz Nutricional Infantil - Men√∫ Saludable</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    /* Reset e base */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
      -webkit-text-size-adjust: 100%;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      line-height: 1.5;
      color: #1f2937;
      /* Imagem de fundo com sobreposi√ß√£o escura de 30% */
      background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('background.png');
      background-size: cover;
      background-position: center;
      background-attachment: scroll;
      background-color: #b8c77a;
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
      /* evita barra horizontal */
      padding-top: env(safe-area-inset-top);
      padding-bottom: env(safe-area-inset-bottom);
      position: relative;
    }

    /* Fundo decorativo (emojis) removido para dar destaque √† imagem */
    body::after {
      display: none;
    }

    /* Container central */
    .container {
      max-width: 920px;
      margin: 0 auto;
      padding: 1rem;
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      gap: 1.25rem;
      align-items: center;
      min-height: 100vh;
      padding-top: 80px;
      /* Espa√ßo para o logo fixo */
      justify-content: center;
    }

    #quiz-container {
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      flex: 1;
    }

    .logo {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      text-align: center;
      padding: 1rem 0;
      z-index: 1000;
      /* Fundo sutil para garantir leitura sem bloquear totalmente o fundo */
      background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, transparent 100%);
      display: none;
      /* Escondido inicialmente */
    }

    .logo.show {
      display: block;
    }

    .logo-text {
      font-size: clamp(1.4rem, 6.6vw, 2.4rem);
      font-weight: 800;
      background: linear-gradient(135deg, #ec4899 0%, #3b82f6 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      display: inline-block;
    }

    /* Cabe√ßalho inicial */
    .header {
      text-align: center;
      padding: 1rem;
      width: 100%;
      margin-top: auto;
      margin-bottom: 1rem;
    }

    .header h1 {
      font-size: clamp(1.4rem, 6.5vw, 2.4rem);
      margin: 0.2rem 0 0.7rem;
      font-weight: 800;
      line-height: 1.05;
      color: #1f2937;
      text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8);
    }

    .header p {
      font-size: clamp(0.95rem, 3.8vw, 1.05rem);
      color: #1f2937;
      margin: 0 auto;
      max-width: 46rem;
      font-weight: 600;
      text-shadow: 0 1px 3px rgba(255, 255, 255, 0.8);
    }

    /* Card do quiz */
    .card {
      width: 100%;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 14px;
      box-shadow: 0 8px 24px rgba(14, 30, 37, 0.08);
      overflow: hidden;
      animation: fadeIn 0.28s ease;
    }

    .card-header {
      padding: 0.75rem;
      background: linear-gradient(135deg, #ec4899 0%, #3b82f6 100%);
    }

    .progress-bar-container {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.22);
      border-radius: 999px;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background: rgba(255, 255, 255, 0.95);
      width: 0%;
      transition: width .35s ease;
    }

    .card-content {
      padding: 1rem;
    }

    .question {
      font-size: clamp(1rem, 4.6vw, 1.25rem);
      font-weight: 700;
      color: #0f172a;
      margin-bottom: 0.9rem;
    }

    .options {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.7rem;
    }

    .option-btn {
      width: 100%;
      padding: clamp(0.8rem, 2.6vw, 1.05rem);
      text-align: left;
      border: 2px solid #e6e7eb;
      background: #fff;
      border-radius: 12px;
      font-size: clamp(0.95rem, 3.6vw, 1rem);
      font-weight: 600;
      color: #263238;
      cursor: pointer;
      transition: all .22s ease;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      word-break: break-word;
    }

    .option-btn span.emoji {
      font-size: 1.45em;
      width: 2.2rem;
      display: inline-block;
      text-align: center;
    }

    .option-btn:hover {
      transform: translateX(4px);
      border-color: #ec4899;
      background: #fff7fb;
    }

    .option-btn:active {
      transform: scale(.99);
    }

    .option-btn.clicked {
      animation: clickPulse .6s ease;
      background: linear-gradient(135deg, #ec4899 0%, #3b82f6 100%);
      color: #fff;
      border-color: transparent;
    }

    @keyframes clickPulse {
      0% {
        transform: scale(1)
      }

      50% {
        transform: scale(1.04);
        box-shadow: 0 10px 30px rgba(236, 72, 153, .18)
      }

      100% {
        transform: scale(1)
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(6px)
      }

      to {
        opacity: 1;
        transform: none
      }
    }

    /* Resultados */
    .result-header {
      padding: 1rem;
      color: white;
      display: flex;
      gap: 0.8rem;
      align-items: center;
    }

    .result-header.red {
      background: #ef4444;
    }

    .result-header.yellow {
      background: #f59e0b;
    }

    .result-header.green {
      background: #10b981;
    }

    .result-icon {
      font-size: clamp(1.2rem, 5vw, 1.8rem);
      animation: warningPulse 1.6s ease-in-out infinite;
    }

    @keyframes warningPulse {

      0%,
      100% {
        transform: scale(1);
        opacity: 1
      }

      50% {
        transform: scale(1.15);
        opacity: .85
      }
    }

    .result-title {
      font-size: clamp(1rem, 4.5vw, 1.25rem);
      font-weight: 800;
    }

    .result-message {
      font-size: clamp(.95rem, 3.8vw, 1.05rem);
      color: #374151;
      line-height: 1.6;
      margin: .9rem 0;
    }

    .score-box {
      background: linear-gradient(135deg, #fff1f2 0%, #fee2e2 100%);
      padding: 1rem;
      border-radius: 10px;
      border: 1px solid #fecaca;
      text-align: center;
      margin-bottom: .6rem;
    }

    .score-value {
      font-size: clamp(2rem, 12vw, 3.2rem);
      font-weight: 800;
      color: #ef4444;
    }

    .cta-btn,
    .restart-btn {
      width: 100%;
      padding: .9rem;
      border-radius: 12px;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      border: none;
    }

    .cta-btn {
      background: linear-gradient(135deg, #ec4899, #3b82f6);
      color: white;
      margin-top: 0.6rem;
    }

    .restart-btn {
      background: white;
      border: 1px solid #e6e7eb;
      color: #374151;
      margin-top: .5rem;
    }

    /* Start Screen - agora compacta e responsiva */
    .start-screen {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: clamp(2rem, 8vw, 4.2rem) 1rem;
      min-height: auto;
      width: 100%;
      border-radius: 12px;
      background: rgba(0, 0, 0, 0.28);
      animation: vibrate 2.5s infinite;
    }

    @keyframes vibrate {
      0% {
        transform: scale(1);
      }

      5% {
        transform: scale(1.02) rotate(1deg);
      }

      10% {
        transform: scale(1.02) rotate(-1deg);
      }

      15% {
        transform: scale(1.02) rotate(1deg);
      }

      20% {
        transform: scale(1.02) rotate(-1deg);
      }

      25% {
        transform: scale(1.02) rotate(0);
      }

      100% {
        transform: scale(1);
      }
    }

    .start-btn {
      padding: .9rem 1.6rem;
      border-radius: 999px;
      background: linear-gradient(135deg, #ec4899, #3b82f6);
      color: white;
      font-weight: 800;
      font-size: clamp(.95rem, 4vw, 1.05rem);
      display: flex;
      align-items: center;
      gap: .6rem;
      border: none;
      box-shadow: 0 8px 26px rgba(236, 72, 153, 0.16);
    }

    /* Notifica√ß√£o */
    .notification {
      position: fixed;
      bottom: 70px;
      right: 10px;
      display: flex;
      align-items: center;
      gap: .5rem;
      background: linear-gradient(135deg, #ec4899, #f43f5e);
      color: white;
      padding: .5rem .8rem;
      border-radius: 8px;
      font-weight: 600;
      font-size: .75rem;
      z-index: 9999;
      box-shadow: 0 4px 12px rgba(15, 23, 42, 0.15);
      animation: slideInShake .6s ease;
      max-width: calc(100% - 20px);
    }

    @keyframes slideInShake {
      0% {
        opacity: 0;
        transform: translateX(80px)
      }

      50% {
        opacity: 1;
        transform: translateX(0)
      }

      100% {
        transform: none
      }
    }

    /* Responsividade adicional */
    @media (min-width: 768px) {
      .container {
        padding: 2rem;
      }

      .card-content {
        padding: 1.6rem;
      }

      .options {
        gap: 1rem;
      }

      .start-screen {
        padding: 5rem 2rem;
      }
    }

    @media (max-width: 420px) {
      .notification {
        right: 10px;
        left: auto;
        bottom: 70px;
        font-size: .7rem;
        padding: .4rem .6rem;
      }
    }

    body::after {
      display: none;
    }


    }

    .site-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      padding: 1rem;
      background: transparent;
      text-align: center;
      color: #374151;
      font-size: 0.85rem;
      line-height: 1.3;
      font-weight: 600;
      text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
      z-index: 90;
      pointer-events: none;
    }

    .container {
      padding-bottom: 80px;
    }

    /* Benefits List Styles */
    .benefits-list {
      list-style: none;
      padding: 0;
      margin: 1rem 0;
      text-align: left;
    }

    .benefit-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
      color: #374151;
    }

    .benefit-item i {
      color: #22c55e;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="logo">
      <i class="fas fa-utensils" style="color:#22c55e; font-size:1.25rem;"></i>
      <span class="logo-text">Men√∫ Saludable</span>
    </div>

    <div class="header" id="initial-header">
      <h1>¬øEst√° seguro de que su hijo est√° realmente saludable?</h1>
      <p>Responda sinceramente las 5 preguntas a continuaci√≥n y vea si la alimentaci√≥n de su hijo puede estar poniendo
        en riesgo su salud.</p>
    </div>

    <div id="quiz-container"></div>


  </div>

  <div class="site-footer">
    Este cuestionario fue elaborado con orientaci√≥n m√©dica y de nutricionistas, buscando el mejor desempe√±o y bienestar
    del ni√±o.
  </div>

  <script>
    /* --- Conte√∫do do quiz (mantive igual ao que j√° estava) --- */
    const QUIZ_QUESTIONS = [
      {
        id: 1, question: "Cuando tu hijo desayuna, ¬øqu√© suele comer la mayor√≠a de los d√≠as?", options: [
          { emoji: "‚ùå", text: "Casi nunca desayuna", points: 0 },
          { emoji: "üç™", text: "Galletas, boller√≠a industrial o batidos azucarados", points: 0 },
          { emoji: "ü•ê", text: "Pan blanco con margarina/embutidos y cacao instant√°neo", points: 1 },
          { emoji: "üçé", text: "Fruta, pan integral, huevos o yogur natural y agua/leche", points: 3 },
        ]
      },
      {
        id: 2, question: "A lo largo del d√≠a, ¬øqu√© est√° m√°s presente en la alimentaci√≥n de tu hijo?", options: [
          { emoji: "üç¨", text: "Consume dulces, galletas y refrescos todos los d√≠as", points: 0 },
          { emoji: "‚ö†Ô∏è", text: "Poca fruta (‚â§1 porci√≥n) y muchos ultraprocesados", points: 1 },
          { emoji: "üçä", text: "Algo de fruta pero a√∫n muchos industriales", points: 2 },
          { emoji: "‚úÖ", text: "Fruta todos los d√≠as y pocos ultraprocesados", points: 3 },
        ]
      },
      {
        id: 3, question: "Pensando en un d√≠a t√≠pico, ¬øc√≥mo describir√≠as la alimentaci√≥n de tu hijo?", options: [
          { emoji: "üçü", text: "Pica mucho durante el d√≠a, casi no comidas de verdad", points: 0 },
          { emoji: "üçù", text: "Comidas principales pero con poca variedad y pocas verduras", points: 1 },
          { emoji: "ü§§", text: "Comidas organizadas con algo de verduras/fruta", points: 2 },
          { emoji: "üåü", text: "Variedad y equilibrio la mayor parte de los d√≠as", points: 3 },
        ]
      },
      {
        id: 4, question: "¬øCon qu√© frecuencia tu hijo presenta cansancio, falta de energ√≠a o dificultad de concentraci√≥n?", options: [
          { emoji: "üò¥", text: "Casi todos los d√≠as", points: 0 },
          { emoji: "üòï", text: "Varias veces a la semana", points: 1 },
          { emoji: "üôÇ", text: "Rara vez", points: 2 },
          { emoji: "‚ö°", text: "Casi nunca", points: 3 },
        ]
      },
      {
        id: 5, question: "¬øSientes que tu hijo se alimenta bien para crecer sano?", options: [
          { emoji: "üòü", text: "No, estoy bastante preocupado/a", points: 0 },
          { emoji: "ü§î", text: "M√°s o menos, necesita mejorar", points: 1 },
          { emoji: "üòå", text: "S√≠, en general estoy tranquilo/a", points: 2 },
          { emoji: "üíö", text: "S√≠, su alimentaci√≥n es muy buena", points: 3 },
        ]
      },
    ];

    const RESULT_MESSAGES = [
      { title: "‚ö†Ô∏è ATENCI√ìN: Riesgo ALTO Identificado", qualification: "Estado nutricional gravemente comprometido.", problems: "Riesgo aumentado de anemia, fatiga y baja concentraci√≥n.", cta: "Descubra el Men√∫ Infantil Completo" },
      { title: "‚ö†Ô∏è ATENCI√ìN: Riesgo ALTO Identificado", qualification: "Grave deterioro del estado nutricional.", problems: "D√©ficits severos de vitaminas esenciales y compromiso cognitivo.", cta: "Descubra el Men√∫ Infantil Completo" },
      { title: "‚ö†Ô∏è ATENCI√ìN: Riesgo ALTO Identificado", qualification: "D√©ficit nutricional expresivo.", problems: "P√©rdida de masa muscular y debilidad f√≠sica.", cta: "Descubra el Men√∫ Infantil Completo" },
      { title: "‚ö†Ô∏è ATENCI√ìN: Riesgo ALTO Identificado", qualification: "Nutrici√≥n insuficiente con alto nivel de gravedad.", problems: "Piel seca, ca√≠da de cabello y desequilibrios metab√≥licos.", cta: "Descubra el Men√∫ Infantil Completo" },
      { title: "‚ö†Ô∏è ATENCI√ìN: Riesgo ALTO Identificado", qualification: "Nivel cr√≠tico de insuficiencia nutricional.", problems: "P√©rdida acentuada de peso y riesgo de desnutrici√≥n.", cta: "Descubra el Men√∫ Infantil Completo" },
    ];

    const RESULTS = {
      red: { level: "red", icon: "fa-triangle-exclamation" }
    };

    let currentQuestion = 0;
    let score = 0;
    let quizStarted = false;
    let badAnswersCount = 0;

    function getResultLevel(score, badAnswersCount) {
      const randomMessage = RESULT_MESSAGES[Math.floor(Math.random() * RESULT_MESSAGES.length)];
      // For√ßar exibi√ß√£o 7/10 e vermelho (conforme pedido anteriormente)
      return { ...RESULTS.red, ...randomMessage, fakeScore: 7 };
    }

    function showStartScreen() {
      const html = `
        <div class="start-screen">
          <button class="start-btn" onclick="startQuiz()">
            <i class="fas fa-play-circle"></i> Comenzar An√°lisis
          </button>
        </div>
      `;
      document.getElementById('quiz-container').innerHTML = html;
    }

    function startQuiz() {
      quizStarted = true;
      document.getElementById('initial-header').style.display = 'none';
      document.querySelector('.logo').classList.add('show'); // Mostra o logo
      renderQuestion();
    }

    function renderQuestion() {
      const question = QUIZ_QUESTIONS[currentQuestion];
      const progress = ((currentQuestion + 1) / QUIZ_QUESTIONS.length) * 100;

      // Atualiza barra
      const html = `
        <div class="card">
          <div class="card-header">
            <div class="progress-bar-container">
              <div class="progress-bar" style="width:${progress}%"></div>
            </div>
          </div>
          <div class="card-content">
            <div class="question">${question.question}</div>
            <div class="options">
              ${question.options.map(opt => `
                <button class="option-btn" onclick="handleAnswer(${opt.points}, event)">
                  <span class="emoji">${opt.emoji}</span>
                  <span>${opt.text}</span>
                </button>
              `).join('')}
            </div>
          </div>
        </div>
      `;
      document.getElementById('quiz-container').innerHTML = html;
      // for√ßa centraliza√ß√£o suave para segunda pergunta em diante
      if (currentQuestion >= 1) {
        setTimeout(() => window.scrollTo({ top: document.body.scrollHeight / 2 - window.innerHeight / 2, behavior: 'smooth' }), 200);
      }
    }

    function handleAnswer(points, event) {
      const button = event.target.closest('.option-btn');
      if (!button) return;
      button.classList.add('clicked');
      setTimeout(() => {
        score += points;
        currentQuestion++;
        if (currentQuestion < QUIZ_QUESTIONS.length) renderQuestion();
        else showLoadingScreen();
      }, 450);
    }

    function showLoadingScreen() {
      window.scrollTo({ top: document.body.scrollHeight / 2 - window.innerHeight / 2, behavior: 'smooth' });
      const html = `
        <div class="card">
          <div class="card-content" style="text-align:center; padding:2rem;">
            <div class="loading-spinner" style="width:64px;height:64px;border:8px solid #fff;border-top-color:#ef4444;border-radius:50%;margin:0 auto 1rem;animation:spin 1s linear infinite;"></div>
            <div style="font-weight:700; font-size:1.05rem; color:#0f172a;">Calculando el nivel nutricional de su hijo...</div>
          </div>
        </div>
      `;
      document.getElementById('quiz-container').innerHTML = html;
      setTimeout(showResult, 2200);
    }

    function showResult() {
      const result = getResultLevel(score, badAnswersCount);
      const displayScore = result.fakeScore !== null ? result.fakeScore : score;
      const html = `
        <div class="card">
          <div class="result-header ${result.level}">
            <i class="fas ${result.icon} result-icon"></i>
            <div class="result-title">${result.title}</div>
          </div>
          <div class="card-content">
            <p class="result-message">
              Puedes intentar enga√±arte diciendo que todo est√° normal, pero la realidad no miente. Y lo peor: tu hijo ya est√° denunciando que algo anda muy mal.<br><br>
              Comportamiento ap√°tico, obesidad, pereza y aislamiento social ‚Äî esto no sucede por casualidad. Son se√±ales evidentes que exigen atenci√≥n.<br><br>
              Ignorar estas alertas es cerrar los ojos al futuro de tu hijo y esperar que el problema explote de forma irreversible m√°s adelante.
            </p>
            <div class="score-box">
              <div class="score-value">${displayScore}/10</div>
              <p style="margin:0.7rem 0 0; font-weight:600;">${result.qualification}<br><small style="font-weight:400;">${result.problems}</small></p>
            </div>
            <button class="cta-btn" onclick="showPricingPage()">${result.cta}</button>
          </div>
        </div>
      `;
      document.getElementById('quiz-container').innerHTML = html;
    }

    function showPricingPage() {
      const html = `
        <div class="card">
          <div class="result-header red">
            <i class="fas fa-utensils result-icon"></i>
            <div class="result-title">Plan Alimenticio Completo</div>
          </div>
          <div class="card-content">
            <p style="text-align:center; font-weight:700; margin-bottom:.8rem;">No acepte menos que la excelencia para su hijo.</p>
            <div style="background:linear-gradient(135deg,#fff1f2,#fee2e2); padding:1rem; border-radius:10px; text-align:center;">
              <div style="font-size:2rem; font-weight:800; color:#22c55e;">‚Ç¨9</div>
              <p style="margin:0.6rem 0 0;">Plan personalizado por 30 d√≠as.</p>
            </div>
            
            <ul class="benefits-list">
              <li class="benefit-item"><i class="fas fa-check-circle"></i> M√°s de 200 recetas</li>
              <li class="benefit-item"><i class="fas fa-check-circle"></i> Recetas en 30 minutos</li>
              <li class="benefit-item"><i class="fas fa-check-circle"></i> Recetas r√°pidas y f√°ciles</li>
              <li class="benefit-item"><i class="fas fa-check-circle"></i> Aprobado por nutricionistas</li>
              <li class="benefit-item"><i class="fas fa-check-circle"></i> Lista de compras semanal</li>
              <li class="benefit-item"><i class="fas fa-check-circle"></i> Mejora la salud de tu hijo</li>
              <li class="benefit-item"><i class="fas fa-check-circle"></i> Ingredientes econ√≥micos</li>
              <li class="benefit-item"><i class="fas fa-check-circle"></i> Acceso inmediato</li>
            </ul>

            <button class="cta-btn" style="margin-top:0.5rem;" onclick="window.location.href='https://pay.hotmart.com/E103106861O?checkoutMode=10'">üëâ Descubra el Men√∫ Infantil Completo</button>
          </div>
        </div>
      `;
      document.getElementById('quiz-container').innerHTML = html;
      window.scrollTo({ top: document.body.scrollHeight / 2 - window.innerHeight / 2, behavior: 'smooth' });
    }

    // Notifica√ß√µes de exemplo (nomes/cidades)
    const NAMES = ["Antonio Garc√≠a", "Mar√≠a Pilar √Ålvarez", "Juan Torres", "Mar√≠a Dolores Romero", "David Jim√©nez", "Ana Castillo"];
    const CITIES = ["Albarrac√≠n", "Cudillero", "√öbeda", "Baeza", "Frigiliana", "Trujillo"];
    function showNotification() {
      const name = NAMES[Math.floor(Math.random() * NAMES.length)];
      const city = CITIES[Math.floor(Math.random() * CITIES.length)];
      const n = document.createElement('div');
      n.className = 'notification';
      n.innerHTML = `<i class="fas fa-bell"></i> üéâ ${name} de ${city} acaba de completar el cuestionario!`;
      document.body.appendChild(n);
      setTimeout(() => n.remove(), 4000);
    }

    // Inicializa√ß√£o
    showStartScreen();
    setTimeout(showNotification, 1500);
    setInterval(showNotification, 15000);

    // Pequena anima√ß√£o do spinner (JS)
    (function addSpinnerKeyframe() {
      const style = document.createElement('style');
      style.innerHTML = '@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}';
      document.head.appendChild(style);
    })();
  </script>
</body>

</html>